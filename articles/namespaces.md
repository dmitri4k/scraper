## Реализация пространства имён в си с помощью структур

Приведённый ниже материал не относится к основному курсу, но позволяет полнее понять особенности языка си и упростить решение некоторых прикладных задач. 
Если вы не смогли совладать с основным курсом, остановитесь здесь и не читайте дальше.

Одной из больших проблем си является отсутствие пространств имён или системы модулей. Если есть две библиотеки, в которых функции имеют одинаковые имена, то произойдёт коллизия: нельзя будет понять, какая из функций будет использована. Компоновщик выдаст ошибку, что функция определена более одного раза.

В нашем проекте есть два подключаемых файла
File1.h

и соответствующий ему .с файл File1.c

И файл File2.h

и соответствующий ему файл File2.c

Если мы попытаемся подключить оба заголовочных файла, то получим ошибку: обнаружен многократно определенный символ - один или более.

Избавиться от неё можно (возможно, ещё есть другие способы...) объявив функции doSomething статическими.

Теперь проект скомпилируется, только вот использовать эти функции в main не удастся. Для того, чтобы использовать их, создадим структуру

для файла File2.h

Функции getFile?Namespace возвращают структуру, у которой поле - указатель на функцию - равно нашей статической функции.

File2.c

Теперь в main можно создать экземпляр структуры FILE1 или FILE2 и через поле структуры обратиться к статической функции.

![mail.png](../images/mail.png)

